DB ì„¤ëª… ë¬¸ì„œë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ì™„ì „ ì •ë¦¬ëœ ë²„ì „**ìœ¼ë¡œ ì œê³µí• ê²Œ.
ê·¸ëƒ¥ ë³µì‚¬í•´ì„œ ê°€ì ¸ê°€ë©´ ëœë‹¤.

---
ìë™ ìƒì„±ë˜ëŠ” ê²ƒ (Schema): ëª¨ë¸(models.py)ì„ ì •ì˜í•˜ê³  makemigrations -> migrateë¥¼ í•˜ë©´ í…Œì´ë¸”ê³¼ ê¸°ë³¸ ê¶Œí•œ(Permission) ëª©ë¡(add, change, delete, view)ì€ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.
ìë™ ìƒì„±ë˜ì§€ ì•ŠëŠ” ê²ƒ (Data): ê·¸ë£¹(Group) ìì²´ë‚˜, ì–´ë–¤ ê·¸ë£¹ì´ ì–´ë–¤ ê¶Œí•œì„ ê°–ëŠ”ì§€(Mapping) ì— ëŒ€í•œ ì •ë³´ëŠ” "ë°ì´í„°" ì˜ì—­ì´ê¸° ë•Œë¬¸ì— ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ê°œë°œìê°€ ì§ì ‘ ë„£ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.


# ğŸ“˜ ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ í…Œì´ë¸” ì„¤ëª… ë¬¸ì„œ (Markdown ë²„ì „)

## 1) ìš”ì•½ í‘œ (ì „ì²´ í…Œì´ë¸” í•œëˆˆì— ë³´ê¸°)

### ğŸ”¹ ì¸ì¦/ê¶Œí•œ

| í…Œì´ë¸”                            | ë¬´ì—‡ì„ ì €ì¥?          | ìš”ì•½          |
| ------------------------------ | ---------------- | ----------- |
| **auth_user**                  | ê¸°ë³¸ ì‚¬ìš©ì ê³„ì •        | Django ì‚¬ìš©ì  |
| **user_profile**               | ì‚¬ìš©ì í”„ë¡œí•„/ì—­í•        | User í™•ì¥ ì •ë³´  |
| **auth_permission**            | ê¶Œí•œ ì •ì˜ ëª©ë¡         | ê¶Œí•œ ì¹´íƒˆë¡œê·¸     |
| **auth_group**                 | ì—­í•  ê·¸ë£¹(Role)      | ì—­í•  ì´ë¦„ ëª©ë¡    |
| **auth_group_permissions**     | ê·¸ë£¹ â†” ê¶Œí•œ ë§¤í•‘       | ì—­í•  ê¶Œí•œ ë¶€ì—¬    |
| **auth_user_user_permissions** | ìœ ì € ê°œë³„ ê¶Œí•œ ì¶”ê°€      | ì˜ˆì™¸ì  ê¶Œí•œ ë¶€ì—¬   |
| **auth_user_groups**           | ìœ ì € â†” ê·¸ë£¹ ê´€ê³„       | ì—­í•  í• ë‹¹       |
| **django_session**             | ì„¸ì…˜ ì •ë³´            | ë¡œê·¸ì¸ ìœ ì§€      |
| **django_migrations**          | ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ë¡        | DB ë²„ì „ ê´€ë¦¬    |
| **django_content_type**        | Django ëª¨ë¸ ë©”íƒ€ ì •ë³´  | ContentType |
| **django_admin_log**           | ê´€ë¦¬ì(admin) ë³€ê²½ ê¸°ë¡ | Admin ë¡œê·¸    |

---

### ğŸ”¹ EMR(ë³‘ì›) ê´€ë ¨

| í…Œì´ë¸”                          | ë¬´ì—‡ì„ ì €ì¥?   | ìš”ì•½           |
| ---------------------------- | --------- | ------------ |
| **emr_patient**              | í™˜ì ì •ë³´     | ê¸°ë³¸ í™˜ì í”„ë¡œí•„    |
| **custom_doctor**            | ì˜ì‚¬ ì •ë³´     | ì˜ì‚¬ í”„ë¡œí•„       |
| **custom_patient_doctor**    | ì˜ì‚¬â€“í™˜ì ë§¤í•‘  | ì£¼ì¹˜ì˜ ê´€ê³„       |
| **emr_encounter**            | Encounter | ì§„ë£Œ ë°©ë¬¸ ê¸°ë¡     |
| **emr_form_vitals**          | í™œë ¥ì§•í›„      | Vitals       |
| **emr_form_soap**            | SOAP ê¸°ë¡   | ì˜ë¬´ê¸°ë¡ í…ìŠ¤íŠ¸     |
| **emr_merged_document**      | ë³‘í•© ë¬¸ì„œ     | Encounter ë¬¸ì„œ |
| **custom_appointment**       | ì˜ˆì•½        | ì§„ë£Œ ì˜ˆì•½        |
| **custom_prescription**      | ì²˜ë°©ì „       | ì•½ ì²˜ë°© ì •ë³´      |
| **custom_prediction_result** | AI ì˜ˆì¸¡ ê²°ê³¼  | AI ì§„ë‹¨ ê¸°ë¡     |

---

### ğŸ”¹ ê¸°íƒ€

| í…Œì´ë¸”                  | ë¬´ì—‡ì„ ì €ì¥? | ìš”ì•½     |
| -------------------- | ------- | ------ |
| **notification_log** | ì•Œë¦¼ ê¸°ë¡   | í‘¸ì‹œ/ë©”ì‹œì§€ |
| **django_session**   | ì„¸ì…˜ ë°ì´í„°  | ë¡œê·¸ì¸ ìœ ì§€ |

---

---

# 2) í…Œì´ë¸”ë³„ ìƒì„¸ ì„¤ëª…

---

## ğŸ”» auth_user

**ê¸°ë³¸ ì‚¬ìš©ì ê³„ì • í…Œì´ë¸”.**
Django ê¸°ë³¸ ì¸ì¦ ê¸°ë°˜.

**ì£¼ìš” í•„ë“œ**

* username
* password
* email
* first_name / last_name
* is_staff / is_superuser
* is_active
* date_joined

**ìš”ì•½**: ë¡œê·¸ì¸ ê³„ì • ì •ë³´.

---

## ğŸ”» user_profile

auth_user í™•ì¥ í…Œì´ë¸”.

**ì €ì¥ ë‚´ìš©**

* ì—­í• (role: ADMIN / DOCTOR / NURSE / PATIENT)
* ì „í™”ë²ˆí˜¸
* í”„ë¡œí•„ ì´ë¯¸ì§€
* FCM í† í°
* user_id FK

**ìš”ì•½**: ì‚¬ìš©ì í”„ë¡œí•„ + ì—­í• .

---

## ğŸ”» auth_permission

**ê¶Œí•œ ëª©ë¡ ì‚¬ì „(ì¹´íƒˆë¡œê·¸)**

* ê° ëª¨ë¸ì— ëŒ€í•´ add/change/delete/view ê¶Œí•œ ìë™ ìƒì„±
* ê´€ë¦¬ìê°€ ì—­í• ì— ê¶Œí•œì„ ë¶€ì—¬í•  ë•Œ ì‚¬ìš©ë¨

---

## ğŸ”» auth_group

**ì—­í•  ê·¸ë£¹(Role)**

* Admin
* Doctor
* Nurse
* Patient ë“±

---

## ğŸ”» auth_group_permissions

**ê·¸ë£¹ â†” ê¶Œí•œ ë§¤í•‘**

ì˜ˆ:

* Doctor â†’ view_patient, change_patient
* Nurse â†’ view_patient

ê·¸ë£¹ì— ì–´ë–¤ ê¶Œí•œì„ ì¤„ì§€ ì €ì¥.

---

## ğŸ”» auth_user_user_permissions

**íŠ¹ì • ìœ ì €ì—ê²Œë§Œ ì¶”ê°€ ê¶Œí•œì„ ì£¼ëŠ” í…Œì´ë¸”.**

ê·¸ë£¹ì„ í†µí•˜ì§€ ì•Šê³  "ê°œë³„ ì‚¬ìš©ì"ì—ê²Œë§Œ ê¶Œí•œ ë¶€ì—¬.

ì˜ˆ:

* doctor3 â†’ delete_patient ê¶Œí•œ ë¶€ì—¬

---

## ğŸ”» auth_user_groups

í•œ ìœ ì €ê°€ ì–´ë–¤ ê·¸ë£¹(Role)ì— ì†í•˜ëŠ”ì§€ ì €ì¥.

---

## ğŸ”» django_session

**ë¡œê·¸ì¸ ì„¸ì…˜ ì €ì¥ í…Œì´ë¸”.**
session_key + session_data(user_id í¬í•¨)

ì›¹ ë¡œê·¸ì¸ ìœ ì§€ ê¸°ëŠ¥ ë‹´ë‹¹.

---

## ğŸ”» django_migrations

**ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© ì´ë ¥ í…Œì´ë¸”.**

ì˜ˆ:

* 0001_initial ì ìš©ë¨
* 0002_add_field ì ìš©ë¨

DB ë²„ì „ ê´€ë¦¬ í•µì‹¬.

---

## ğŸ”» django_content_type

Django ë‚´ë¶€ ëª¨ë¸ ë“±ë¡ ì •ë³´.
Permission ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ë¨.

---

## ğŸ”» django_admin_log

ê´€ë¦¬ì(admin site)ì—ì„œ ì–´ë–¤ ëª¨ë¸ì´ ì–´ë–»ê²Œ ìˆ˜ì •/ì‚­ì œë˜ì—ˆëŠ”ì§€ ê¸°ë¡.

---

---

# ğŸŸ¦ EMR / ë³‘ì› ê¸°ëŠ¥ í…Œì´ë¸” ìƒì„¸

---

## ğŸ”» emr_patient

í™˜ì ì •ë³´ ì €ì¥.

**í•„ë“œ ì˜ˆì‹œ**

* ì´ë¦„(first_name, last_name)
* ì„±ë³„(gender)
* ìƒë…„ì›”ì¼(date_of_birth)
* ì „í™”ë²ˆí˜¸/ì´ë©”ì¼
* ì£¼ì†Œ
* ë³´í—˜ ì •ë³´
* user_id (Patient ê³„ì • FK)

---

## ğŸ”» custom_doctor

ì˜ì‚¬ ì •ë³´ ì €ì¥.

**í•„ë“œ**

* license_number
* specialty
* department
* bio
* user_id

---

## ğŸ”» custom_patient_doctor

ì˜ì‚¬â€“í™˜ì ì—°ê²° ê´€ê³„.

* is_primary (ì£¼ì¹˜ì˜ ì—¬ë¶€)
* assigned_date
* doctor_id
* patient_id

---

## ğŸ”» emr_encounter

ì§„ë£Œ ë°©ë¬¸(Encounter) ë‹¨ìœ„ ê¸°ë¡.

**í•„ë“œ**

* encounter_date
* reason
* facility
* status
* doctor_id
* patient_id

---

## ğŸ”» emr_form_vitals

ì§„ë£Œ ì¤‘ ì¸¡ì •ëœ í™˜ì í™œë ¥ì§•í›„ ê¸°ë¡.

* í˜ˆì••(bps, bpd)
* ì²´ì˜¨
* ë§¥ë°•(pulse)
* ì‚°ì†Œí¬í™”ë„
* BMI + ìƒíƒœ
* encounter_id

---

## ğŸ”» emr_form_soap

ì˜ì‚¬ì˜ SOAP ê¸°ë¡.

* Subjective
* Objective
* Assessment
* Plan
* encounter_id

---

## ğŸ”» emr_merged_document

Encounter ë¬¸ì„œ í†µí•©ë³¸.

* title
* document_type
* snapshot_data(JSON)
* references(JSON)
* signed_by_id
* encounter_id
* patient_id

---

## ğŸ”» custom_appointment

ì§„ë£Œ ì˜ˆì•½.

* ì˜ˆì•½ ë‚ ì§œ/ì‹œê°„
* duration
* visit_type (ëŒ€ë©´/ë¹„ëŒ€ë©´)
* reason
* doctor_id
* patient_id

---

## ğŸ”» custom_prescription

ì²˜ë°© ê¸°ë¡.

* medication_code
* medication_name
* dosage
* frequency
* route
* instructions
* encounter_id

---

## ğŸ”» custom_prediction_result

AI ì˜ˆì¸¡/ì§„ë‹¨ ê²°ê³¼.

* model_name
* model_version
* prediction_class
* confidence_score
* probabilities(JSON)
* XAI ì´ë¯¸ì§€
* doctor_feedback
* encounter_id / doctor_id / patient_id

---

## ğŸ”» notification_log

ì•Œë¦¼(push, ë©”ì‹œì§€) ì €ì¥.

* type
* title
* message
* is_read
* sent_at
* metadata(JSON)
* recipient_id

---

# ë.

ì›í•˜ë©´

* ERDë¥¼ ì§„ì§œ ERD íˆ´ ìˆ˜ì¤€ìœ¼ë¡œ ë‹¤ì‹œ ê·¸ë ¤ì£¼ê±°ë‚˜
* PPTìš© ë²„ì „
* API ë§¤í•‘ ë¬¸ì„œ
* Seed ë°ì´í„° ìë™ ìƒì„±

ë‹¤ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆì–´.
